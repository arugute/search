<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TG NFT Finder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        :root {
            --bg: #0a0a12;
            --card-bg: #161626;
            --card-hover: #1e1e35;
            --text: #f0f2f5;
            --text-secondary: #b0b5c0;
            --accent: #6c5ce7;
            --accent-hover: #5649d1;
            --secondary: #3a3a5a;
            --success: #00b894;
            --gradient: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            --glass: rgba(255, 255, 255, 0.05);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(108, 92, 231, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(108, 92, 231, 0.1) 0%, transparent 20%);
            overflow-x: hidden;
        }
        
        .container {
            max-width: 680px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
            position: relative;
            z-index: 1;
        }
        
        h1 {
            text-align: center;
            font-weight: 700;
            margin-bottom: 2.5rem;
            font-size: 2.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 10px rgba(108, 92, 231, 0.2);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        h1:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }
        
        .search-box {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.75rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            backdrop-filter: blur(8px);
            border: 1px solid var(--glass);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }
        
        .search-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }
        
        .search-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        select, input {
            flex: 1;
            background: rgba(30, 30, 50, 0.7);
            border: 1px solid var(--secondary);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            appearance: none;
            outline: none;
        }
        
        select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23b0b5c0' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 12px;
        }
        
        select:focus, input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.3);
        }
        
        button {
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 1.1rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.05rem;
            width: 100%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #5649d1 0%, #8479f0 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(108, 92, 231, 0.5);
        }
        
        button:hover::before {
            opacity: 1;
        }
        
        button:active {
            transform: translateY(0);
        }
        
        #results-container {
            min-height: 200px;
            position: relative;
        }
        
        .result-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 0;
            margin-top: 1.5rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards;
            transition: all 0.4s ease;
            border: 1px solid var(--glass);
        }
        
        .result-card:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        .gift-image-container {
            position: relative;
            overflow: hidden;
            height: 280px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px 16px 0 0;
        }
        
        .gift-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: transform 0.5s ease;
            z-index: 1;
            border-radius: 8px;
        }
        
        .result-card:hover .gift-image {
            transform: scale(1.05);
        }
        
        .gift-image-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(108, 92, 231, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            z-index: 0;
        }
        
        .gift-info {
            padding: 1.75rem;
            position: relative;
            z-index: 1;
        }
        
        .gift-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, var(--text) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .gift-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .detail-item {
            background: rgba(30, 30, 50, 0.5);
            border-radius: 10px;
            padding: 0.75rem;
            border: 1px solid var(--secondary);
        }
        
        .detail-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }
        
        .detail-value {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text);
            word-break: break-word;
        }
        
        .owner {
            font-size: 1rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--secondary);
        }
        
        .owner a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .owner a:hover {
            color: #a29bfe;
            text-decoration: underline;
        }
        
        .owner a::after {
            content: '↗';
            font-size: 0.8em;
            transition: transform 0.2s ease;
        }
        
        .owner a:hover::after {
            transform: translate(2px, -2px);
        }
        
        .not-found {
            text-align: center;
            padding: 3rem 2rem;
            color: var(--text-secondary);
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass);
            animation: fadeIn 0.5s ease forwards;
        }
        
        .not-found svg {
            width: 80px;
            height: 80px;
            margin-bottom: 1.5rem;
            opacity: 0.7;
        }
        
        .loading-container {
            text-align: center;
            padding: 3rem;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            border: 1px solid var(--glass);
            animation: fadeIn 0.5s ease forwards;
        }
        
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(108, 92, 231, 0.2);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
            margin-right: 12px;
            vertical-align: middle;
        }
        
        .loading-text {
            display: inline-block;
            font-weight: 500;
            color: var(--text-secondary);
            background: linear-gradient(90deg, var(--text-secondary), #fff, var(--text-secondary));
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: shimmer 2s linear infinite;
        }
        
        .nft-badge {
            display: inline-flex;
            align-items: center;
            background: rgba(108, 92, 231, 0.2);
            color: var(--accent);
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 0.75rem;
            border: 1px solid rgba(108, 92, 231, 0.3);
        }
        
        .nft-badge::before {
            content: 'NFT';
            margin-right: 0.25rem;
        }

        .view-button {
            display: block;
            margin-top: 1.5rem;
            background: rgba(108, 92, 231, 0.1);
            color: var(--accent);
            border: 1px solid var(--accent);
            border-radius: 10px;
            padding: 0.75rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1rem;
            width: 100%;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
        }

        .view-button:hover {
            background: rgba(108, 92, 231, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 92, 231, 0.3);
        }
        
        .search-type-selector {
            display: flex;
            margin-bottom: 1.5rem;
            background: rgba(30, 30, 50, 0.5);
            border-radius: 12px;
            padding: 4px;
        }
        
        .search-type-btn {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            padding: 0.75rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
        }
        
        .search-type-btn.active {
            background: rgba(108, 92, 231, 0.3);
            color: var(--text);
            font-weight: 600;
        }
        
        .backdrop-colors {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .backdrop-color {
            padding: 0.5rem;
            border-radius: 6px;
            font-size: 0.8rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }
        
        .backdrop-color:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .backdrop-color.selected {
            border: 1px solid var(--accent);
            box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.3);
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes rotate {
            to { transform: rotate(360deg); }
        }
        
        @keyframes shimmer {
            to { background-position: 200% center; }
        }
        
        /* Floating particles background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            background: rgba(108, 92, 231, 0.3);
            border-radius: 50%;
            animation: float linear infinite;
        }
        
        @keyframes float {
            to {
                transform: translateY(-100vh) rotate(360deg);
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem 1rem;
            }
            
            h1 {
                font-size: 2rem;
                margin-bottom: 2rem;
            }
            
            .search-row {
                flex-direction: column;
                gap: 1rem;
            }
            
            .gift-image-container {
                height: 220px;
            }
            
            .gift-details {
                grid-template-columns: 1fr;
            }
            
            .backdrop-colors {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <h1>Telegram NFT Finder</h1>
        
        <div class="search-box animate__animated animate__fadeIn">
            <div class="search-type-selector">
                <button class="search-type-btn active" id="search-by-nft">Search by NFT</button>
                <button class="search-type-btn" id="search-by-backdrop">Search by Backdrop</button>
            </div>
            
            <div id="nft-search-section">
                <div class="search-row">
                    <select id="gift-select">
                        <option value="">Select Gift</option>
                        <option value="EternalRose">EternalRose</option>
                        <option value="AstralShard">AstralShard</option>
                        <option value="BDayCandle">BDayCandle</option>
                        <option value="BerryBox">BerryBox</option>
                        <option value="BigYear">BigYear</option>
                        <option value="BondedRing">BondedRing</option>
                        <option value="BowTie">BowTie</option>
                        <option value="BunnyMuffin">BunnyMuffin</option>
                        <option value="CandyCane">CandyCane</option>
                        <option value="CookieHeart">CookieHeart</option>
                        <option value="CrystalBall">CrystalBall</option>
                        <option value="DeskCalendar">DeskCalendar</option>
                        <option value="DiamondRing">DiamondRing</option>
                        <option value="DurovsCap">DurovsCap</option>
                        <option value="ElectricSkull">ElectricSkull</option>
                        <option value="EvilEye">EvilEye</option>
                        <option value="FlyingBroom">FlyingBroom</option>
                        <option value="GenieLamp">GenieLamp</option>
                        <option value="GingerCookie">GingerCookie</option>
                        <option value="HangingStar">HangingStar</option>
                        <option value="HeroicHelmet">HeroicHelmet</option>
                        <option value="HexPot">HexPot</option>
                        <option value="HomemadeCake">HomemadeCake</option>
                        <option value="HypnoLollipop">HypnoLollipop</option>
                        <option value="IonGem">IonGem</option>
                        <option value="JackintheBox">JackintheBox</option>
                        <option value="JellyBunny">JellyBunny</option>
                        <option value="JesterHat">JesterHat</option>
                        <option value="JingleBells">JingleBells</option>
                        <option value="KissedFrog">KissedFrog</option>
                        <option value="LightSword">LightSword</option>
                        <option value="LolPop">LolPop</option>
                        <option value="LootBag">LootBag</option>
                        <option value="LoveCandle">LoveCandle</option>
                        <option value="LovePotion">LovePotion</option>
                        <option value="LunarSnake">LunarSnake</option>
                        <option value="MadPumpkin">MadPumpkin</option>
                        <option value="MagicPotion">MagicPotion</option>
                        <option value="MiniOscar">MiniOscar</option>
                        <option value="NailBracelet">NailBracelet</option>
                        <option value="NekoHelmet">NekoHelmet</option>
                        <option value="PartySparkler">PartySparkler</option>
                        <option value="PerfumeBottle">PerfumeBottle</option>
                        <option value="PetSnake">PetSnake</option>
                        <option value="PlushPepe">PlushPepe</option>
                        <option value="PreciousPeach">PreciousPeach</option>
                        <option value="RecordPlayer">RecordPlayer</option>
                        <option value="RestlessJar">RestlessJar</option>
                        <option value="SakuraFlower">SakuraFlower</option>
                        <option value="SantaHat">SantaHat</option>
                        <option value="ScaredCat">ScaredCat</option>
                        <option value="SharpTongue">SharpTongue</option>
                        <option value="SignetRing">SignetRing</option>
                        <option value="SkullFlower">SkullFlower</option>
                        <option value="SleighBell">SleighBell</option>
                        <option value="SnowGlobe">SnowGlobe</option>
                        <option value="SnowMittens">SnowMittens</option>
                        <option value="SpicedWine">SpicedWine</option>
                        <option value="SpyAgaric">SpyAgaric</option>
                        <option value="StarNotepad">StarNotepad</option>
                        <option value="SwissWatch">SwissWatch</option>
                        <option value="TamaGadget">TamaGadget</option>
                        <option value="TopHat">TopHat</option>
                        <option value="ToyBear">ToyBear</option>
                        <option value="TrappedHeart">TrappedHeart</option>
                        <option value="VintageCigar">VintageCigar</option>
                        <option value="VoodooDoll">VoodooDoll</option>
                        <option value="WinterWreath">WinterWreath</option>
                        <option value="WitchHat">WitchHat</option>
                        <option value="XmasStoking">XmasStoking</option>
                        <option value="GemSignet">GemSignet</option>
                        <option value="HolidayDrink">HolidayDrink</option>
                        <option value="SnakeBox">SnakeBox</option>
                    </select>
                    <input type="number" id="gift-number" placeholder="NFT Number" min="1">
                </div>
            </div>
            
            <div id="backdrop-search-section" style="display: none;">
                <select id="backdrop-select">
                    <option value="">Select Backdrop Color</option>
                    <option value="Black">Black</option>
                    <option value="Electric Purple">Electric Purple</option>
                    <option value="Lavender">Lavender</option>
                    <option value="Cyberpunk">Cyberpunk</option>
                    <option value="Electric Indigo">Electric Indigo</option>
                    <option value="Neon Blue">Neon Blue</option>
                    <option value="Navy Blue">Navy Blue</option>
                    <option value="Sapphire">Sapphire</option>
                    <option value="Sky Blue">Sky Blue</option>
                    <option value="Azure Blue">Azure Blue</option>
                    <option value="Pacific Cyan">Pacific Cyan</option>
                    <option value="Aquamarine">Aquamarine</option>
                    <option value="Pacific Green">Pacific Green</option>
                    <option value="Emerald">Emerald</option>
                    <option value="Mint Green">Mint Green</option>
                    <option value="Malachite">Malachite</option>
                    <option value="Shamrock Green">Shamrock Green</option>
                    <option value="Lemongrass">Lemongrass</option>
                    <option value="Light Olive">Light Olive</option>
                    <option value="Satin Gold">Satin Gold</option>
                    <option value="Pure Gold">Pure Gold</option>
                    <option value="Amber">Amber</option>
                    <option value="Caramel">Caramel</option>
                    <option value="Orange">Orange</option>
                    <option value="Carrot Juice">Carrot Juice</option>
                    <option value="Coral Red">Coral Red</option>
                    <option value="Persimmon">Persimmon</option>
                    <option value="Strawberry">Strawberry</option>
                    <option value="Raspberry">Raspberry</option>
                    <option value="Mystic Pearl">Mystic Pearl</option>
                    <option value="Fandango">Fandango</option>
                    <option value="Dark Lilac">Dark Lilac</option>
                    <option value="English Violet">English Violet</option>
                    <option value="Moonstone">Moonstone</option>
                    <option value="Pine Green">Pine Green</option>
                    <option value="Hunter Green">Hunter Green</option>
                    <option value="Pistachio">Pistachio</option>
                    <option value="Khaki Green">Khaki Green</option>
                    <option value="Desert Sand">Desert Sand</option>
                    <option value="Cappuccino">Cappuccino</option>
                    <option value="Rosewood">Rosewood</option>
                    <option value="Ivory White">Ivory White</option>
                    <option value="Platinum">Platinum</option>
                    <option value="Roman Silver">Roman Silver</option>
                    <option value="Steel Grey">Steel Grey</option>
                    <option value="Silver Blue">Silver Blue</option>
                    <option value="Burgundy">Burgundy</option>
                    <option value="Indigo Dye">Indigo Dye</option>
                    <option value="Midnight Blue">Midnight Blue</option>
                    <option value="Onyx Black">Onyx Black</option>
                    <option value="Battleship Grey">Battleship Grey</option>
                    <option value="Purple">Purple</option>
                    <option value="Grape">Grape</option>
                    <option value="Cobalt Blue">Cobalt Blue</option>
                    <option value="French Blue">French Blue</option>
                    <option value="Turquoise">Turquoise</option>
                    <option value="Jade Green">Jade Green</option>
                    <option value="Copper">Copper</option>
                    <option value="Chestnut">Chestnut</option>
                    <option value="Chocolate">Chocolate</option>
                    <option value="Marine Blue">Marine Blue</option>
                    <option value="Tactical Pine">Tactical Pine</option>
                    <option value="Gunship Green">Gunship Green</option>
                    <option value="Dark Green">Dark Green</option>
                    <option value="Seal Brown">Seal Brown</option>
                    <option value="Rifle Green">Rifle Green</option>
                    <option value="Ranger Green">Ranger Green</option>
                    <option value="Camo Green">Camo Green</option>
                    <option value="Feldgrau">Feldgrau</option>
                    <option value="Gunmetal">Gunmetal</option>
                    <option value="Deep Cyan">Deep Cyan</option>
                    <option value="Mexican Pink">Mexican Pink</option>
                    <option value="Tomato">Tomato</option>
                    <option value="Fire Engine">Fire Engine</option>
                    <option value="Celtic Blue">Celtic Blue</option>
                    <option value="Old Gold">Old Gold</option>
                    <option value="Burnt Sienna">Burnt Sienna</option>
                    <option value="Carmine">Carmine</option>
                    <option value="Mustard">Mustard</option>
                    <option value="French Violet">French Violet</option>
                </select>
            </div>
            
            <button id="search-button">
                <span class="search-icon">🔍</span> Find NFT
            </button>
        </div>
        
        <div id="results-container"></div>
    </div>

    <script>
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = window.innerWidth < 768 ? 20 : 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size between 2px and 6px
                const size = Math.random() * 4 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.top = `${Math.random() * 100}vh`;
                
                // Random animation duration between 20s and 40s
                const duration = Math.random() * 20 + 20;
                particle.style.animationDuration = `${duration}s`;
                
                // Random delay
                particle.style.animationDelay = `${Math.random() * 20}s`;
                
                // Random opacity
                particle.style.opacity = Math.random() * 0.5 + 0.1;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Initialize particles when DOM is loaded
        document.addEventListener('DOMContentLoaded', createParticles);
        
        // Toggle between search types
        document.getElementById('search-by-nft').addEventListener('click', function() {
            this.classList.add('active');
            document.getElementById('search-by-backdrop').classList.remove('active');
            document.getElementById('nft-search-section').style.display = 'block';
            document.getElementById('backdrop-search-section').style.display = 'none';
        });
        
        document.getElementById('search-by-backdrop').addEventListener('click', function() {
            this.classList.add('active');
            document.getElementById('search-by-nft').classList.remove('active');
            document.getElementById('nft-search-section').style.display = 'none';
            document.getElementById('backdrop-search-section').style.display = 'block';
        });
        
        document.getElementById('search-button').addEventListener('click', async function() {
            const searchType = document.querySelector('.search-type-btn.active').id;
            const resultsContainer = document.getElementById('results-container');
            
            if (searchType === 'search-by-nft') {
                await searchByNFT();
            } else {
                await searchByBackdrop();
            }
        });
        
        async function searchByNFT() {
            const selectedGift = document.getElementById('gift-select').value;
            const giftNumber = document.getElementById('gift-number').value;
            const resultsContainer = document.getElementById('results-container');
            
            if (!selectedGift || !giftNumber) {
                resultsContainer.innerHTML = `
                    <div class="not-found animate__animated animate__fadeIn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                        </svg>
                        <p>Please select a gift and enter a number</p>
                    </div>
                `;
                return;
            }
            
            // Show loading state with animation
            resultsContainer.innerHTML = `
                <div class="loading-container animate__animated animate__fadeIn">
                    <div>
                        <span class="loading"></span>
                        <span class="loading-text">Searching for NFT...</span>
                    </div>
                </div>
            `;
            
            try {
                // Fetch NFT data from Telegram
                const nftData = await parseSingleGift(selectedGift, giftNumber);
                
                if (!nftData.isValid) {
                    throw new Error('NFT not found or invalid');
                }
                
                const giftUrl = `https://t.me/nft/${selectedGift}-${giftNumber}`;
                const imageUrl = `https://nft.fragment.com/gift/${selectedGift}-${giftNumber}.webp`;
                
                resultsContainer.innerHTML = `
                    <div class="result-card">
                        <div class="gift-image-container">
                            <img src="${imageUrl}" class="gift-image" onerror="this.src='data:image/svg+xml;charset=UTF-8,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\"%3E%3Crect fill=\"%23161626\" width=\"200\" height=\"200\"/%3E%3Ctext fill=\"%236c5ce7\" font-family=\"Poppins,sans-serif\" font-size=\"16\" dy=\".3em\" text-anchor=\"middle\" x=\"100\" y=\"100\"%3EImage not found%3C/text%3E%3C/svg%3E'">
                        </div>
                        <div class="gift-info">
                            <div>
                                <span class="gift-name">${nftData.model || selectedGift} #${giftNumber}</span>
                                <span class="nft-badge"></span>
                            </div>
                            
                            <div class="gift-details">
                                <div class="detail-item">
                                    <div class="detail-label">Owned by</div>
                                    <div class="detail-value">${nftData.owner || 'Unknown'}</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Symbol</div>
                                    <div class="detail-value">${nftData.symbol || 'N/A'}</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Backdrop</div>
                                    <div class="detail-value">${nftData.backdrop || 'Standard'}</div>
                                </div>
                            </div>
                            
                            <a href="${giftUrl}" target="_blank" class="view-button">
                                View on Telegram
                            </a>
                        </div>
                    </div>
                `;
            } catch (error) {
                resultsContainer.innerHTML = `
                                    <div class="not-found animate__animated animate__fadeIn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                    </svg>
                    <p>NFT not found or error occurred</p>
                    <p class="detail-value" style="margin-top: 1rem;">${error.message}</p>
                </div>
            `;
            }
        }

        async function searchByBackdrop() {
            const selectedBackdrop = document.getElementById('backdrop-select').value;
            const resultsContainer = document.getElementById('results-container');
            
            if (!selectedBackdrop) {
                resultsContainer.innerHTML = `
                    <div class="not-found animate__animated animate__fadeIn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                        </svg>
                        <p>Please select a backdrop color</p>
                    </div>
                `;
                return;
            }
            
            // Show loading state with animation
            resultsContainer.innerHTML = `
                <div class="loading-container animate__animated animate__fadeIn">
                    <div>
                        <span class="loading"></span>
                        <span class="loading-text">Searching NFTs with ${selectedBackdrop} backdrop...</span>
                    </div>
                </div>
            `;
            
            try {
                // Fetch NFTs with the selected backdrop
                const nfts = await findNFTsByBackdrop(selectedBackdrop);
                
                if (!nfts || nfts.length === 0) {
                    resultsContainer.innerHTML = `
                        <div class="not-found animate__animated animate__fadeIn">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                            </svg>
                            <p>No NFTs found with ${selectedBackdrop} backdrop</p>
                        </div>
                    `;
                    return;
                }
                
                // Display results
                let resultsHTML = '';
                
                nfts.slice(0, 10).forEach(nft => {
                    const giftUrl = `https://t.me/nft/${nft.symbol}-${nft.number}`;
                    const imageUrl = `https://nft.fragment.com/gift/${nft.symbol}-${nft.number}.webp`;
                    
                    resultsHTML += `
                        <div class="result-card">
                            <div class="gift-image-container">
                                <img src="${imageUrl}" class="gift-image" onerror="this.src='data:image/svg+xml;charset=UTF-8,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\" viewBox=\"0 0 200 200\"%3E%3Crect fill=\"%23161626\" width=\"200\" height=\"200\"/%3E%3Ctext fill=\"%236c5ce7\" font-family=\"Poppins,sans-serif\" font-size=\"16\" dy=\".3em\" text-anchor=\"middle\" x=\"100\" y=\"100\"%3EImage not found%3C/text%3E%3C/svg%3E'">
                            </div>
                            <div class="gift-info">
                                <div>
                                    <span class="gift-name">${nft.model || nft.symbol} #${nft.number}</span>
                                    <span class="nft-badge"></span>
                                </div>
                                
                                <div class="gift-details">
                                    <div class="detail-item">
                                        <div class="detail-label">Owned by</div>
                                        <div class="detail-value">${nft.owner || 'Unknown'}</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Symbol</div>
                                        <div class="detail-value">${nft.symbol || 'N/A'}</div>
                                    </div>
                                    <div class="detail-item">
                                        <div class="detail-label">Backdrop</div>
                                        <div class="detail-value">${nft.backdrop || 'Standard'}</div>
                                    </div>
                                </div>
                                
                                <a href="${giftUrl}" target="_blank" class="view-button">
                                    View on Telegram
                                </a>
                            </div>
                        </div>
                    `;
                });
                
                if (nfts.length > 10) {
                    resultsHTML += `
                        <div class="not-found animate__animated animate__fadeIn" style="margin-top: 2rem;">
                            <p>Showing 10 of ${nfts.length} NFTs found</p>
                        </div>
                    `;
                }
                
                resultsContainer.innerHTML = resultsHTML;
            } catch (error) {
                resultsContainer.innerHTML = `
                    <div class="not-found animate__animated animate__fadeIn">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                        </svg>
                        <p>Error searching NFTs</p>
                        <p class="detail-value" style="margin-top: 1rem;">${error.message}</p>
                    </div>
                `;
            }
        }

        // Mock function to parse a single gift (in a real app, this would call an API)
        async function parseSingleGift(giftSymbol, giftNumber) {
            // This is a mock implementation - in reality you would call Telegram's API
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve({
                        isValid: true,
                        symbol: giftSymbol,
                        number: giftNumber,
                        model: giftSymbol,
                        owner: "TelegramUser123",
                        backdrop: getRandomBackdrop(),
                        date: new Date().toISOString()
                    });
                }, 1000);
            });
        }

        // Mock function to find NFTs by backdrop (in a real app, this would call an API)
        async function findNFTsByBackdrop(backdropColor) {
            // This is a mock implementation - in reality you would call Telegram's API
            return new Promise((resolve) => {
                setTimeout(() => {
                    const count = Math.floor(Math.random() * 15) + 1;
                    const nfts = [];
                    
                    for (let i = 0; i < count; i++) {
                        const giftSymbol = getRandomGiftSymbol();
                        nfts.push({
                            symbol: giftSymbol,
                            number: Math.floor(Math.random() * 10000) + 1,
                            model: giftSymbol,
                            owner: `User${Math.floor(Math.random() * 10000)}`,
                            backdrop: backdropColor,
                            date: new Date().toISOString()
                        });
                    }
                    
                    resolve(nfts);
                }, 1500);
            });
        }

        // Helper functions
        function getRandomGiftSymbol() {
            const gifts = [
                "EternalRose", "AstralShard", "BDayCandle", "BerryBox", "BigYear",
                "BondedRing", "BowTie", "BunnyMuffin", "CandyCane", "CookieHeart",
                "CrystalBall", "DeskCalendar", "DiamondRing", "DurovsCap", "ElectricSkull"
            ];
            return gifts[Math.floor(Math.random() * gifts.length)];
        }

        function getRandomBackdrop() {
            const backdrops = [
                "Black", "Electric Purple", "Lavender", "Cyberpunk", "Electric Indigo",
                "Neon Blue", "Navy Blue", "Sapphire", "Sky Blue", "Azure Blue"
            ];
            return backdrops[Math.floor(Math.random() * backdrops.length)];
        }
    </script>
</body>
</html>
